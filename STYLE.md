- Maintain a style document (this document) with the coding style guidelines for this repository.
- This style guide can be updated at any time as part of any pull request.
- Organize the codebase into small files to minimize the amount of pre-existing code that must be output by the LLM when making changes. Aim for under 100 lines of code per file.
- Write unit tests for all code to ensure the code does what it should and protect against regressions. Tests live alongside the code-under-test in a test_<whatever>.py file. We don't use a separate tests/ directory.
- Change as few lines of code as possible while still fulfilling the change request. Most changes should be addressable with under 50 lines of code changed.
- Add comments to the code that describe what is happening. Read the existing comments before changing anything. Keep the comments up to date when making changes.
- Update this style guide based on feedback received in PRs to avoid making the same mistakes in the future. Updates to this file should generally just be additional bullet points appended to the end.
- If a unit test is failing, first validate that the test is designed properly for the test description and then update the code-under-test to make the test pass. Generally avoid modifying tests unless absolutely necessary.
- Always reference the existing codebase to produce code that is stylistically consistent with the existing code.